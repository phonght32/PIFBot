ARM GAS  /tmp/cct0xKoJ.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"log.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.heap_bubble_down,"ax",%progbits
  18              		.align	1
  19              		.syntax unified
  20              		.thumb
  21              		.thumb_func
  22              		.fpu fpv4-sp-d16
  24              	heap_bubble_down:
  25              	.LFB146:
  26              		.file 1 "/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c"
   1:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c **** #include <stdbool.h>
   2:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c **** #include <stdint.h>
   3:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c **** #include <string.h>
   4:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c **** #include <stdio.h>
   5:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c **** 
   6:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c **** #include "freertos/FreeRTOS.h"
   7:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c **** #include "freertos/queue.h"
   8:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c **** #include "freertos/task.h"
   9:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c **** #include "freertos/semphr.h"
  10:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c **** 
  11:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c **** #include "sys/queue.h"
  12:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c **** #include "stm_log.h"
  13:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c **** 
  14:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c **** #include "stm32f4xx_hal.h"
  15:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c **** #include "stm32f4xx_hal_uart.h"
  16:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c **** 
  17:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c **** /* Print number of bytes per line for stm_log_buffer_char and stm_log_buffer_hex */
  18:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c **** #define BYTES_PER_LINE      16
  19:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c **** 
  20:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c **** /* Number of tags to be cached. Must be 2**n - 1, n >= 2. */
  21:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c **** #define TAG_CACHE_SIZE 31
  22:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c **** 
  23:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c **** /* Buffer for UART */
  24:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c **** #define LOG_BUF_SIZE        256
  25:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c **** 
  26:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c **** 
  27:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c **** /* Maximum time to wait for the mutex in a logging statement */
  28:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c **** #define MAX_MUTEX_WAIT_MS 10
  29:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c **** #define MAX_MUTEX_WAIT_TICKS ((MAX_MUTEX_WAIT_MS + portTICK_PERIOD_MS - 1) / portTICK_PERIOD_MS)
  30:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c **** 
  31:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c **** /* FreeRTOS mutex macros */
  32:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c **** #define mutex_lock(x)       while (xSemaphoreTake(x, portMAX_DELAY) != pdPASS);
ARM GAS  /tmp/cct0xKoJ.s 			page 2


  33:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c **** #define mutex_unlock(x)     xSemaphoreGive(x)
  34:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c **** #define mutex_create()      xSemaphoreCreateMutex()
  35:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c **** #define mutex_destroy(x)    vQueueDelete(x)
  36:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c **** 
  37:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c **** /* UART */
  38:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c **** static UART_HandleTypeDef huart_log;
  39:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c **** static char log_buf[LOG_BUF_SIZE];
  40:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c **** 
  41:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c **** /*
  42:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****  * Cached tag entry.
  43:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****  */
  44:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c **** typedef struct {
  45:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****     const char* tag;
  46:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****     uint32_t level : 3;
  47:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****     uint32_t generation : 29;
  48:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c **** } cached_tag_entry_t;
  49:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c **** 
  50:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c **** /*
  51:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****  * Uncached tag entry.
  52:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****  */
  53:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c **** typedef struct uncached_tag_entry_ {
  54:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****     SLIST_ENTRY(uncached_tag_entry_) entries;
  55:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****     uint8_t level;
  56:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****     char tag[0];
  57:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c **** } uncached_tag_entry_t;
  58:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c **** 
  59:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c **** /* Variable for set log level */
  60:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c **** static stm_log_level_t set_log_default_level = STM_LOG_VERBOSE;
  61:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c **** static SLIST_HEAD(log_tags_head, uncached_tag_entry_) set_log_tags = SLIST_HEAD_INITIALIZER(set_log
  62:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c **** static uint32_t set_log_cache_max_generation = 0;
  63:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c **** static uint32_t set_log_cache_entry_count = 0;
  64:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c **** static cached_tag_entry_t set_log_cache[TAG_CACHE_SIZE];
  65:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c **** static SemaphoreHandle_t set_log_lock = NULL;
  66:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c **** 
  67:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c **** /* Static functions */
  68:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c **** static inline bool get_cached_log_level(const char* tag, stm_log_level_t* level);
  69:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c **** static inline bool get_uncached_log_level(const char* tag, stm_log_level_t* level);
  70:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c **** static inline void add_to_cache(const char* tag, stm_log_level_t level);
  71:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c **** static void heap_bubble_down(int index);
  72:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c **** static inline void heap_swap(int i, int j);
  73:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c **** static inline bool should_output(stm_log_level_t level_for_message, stm_log_level_t level_for_tag);
  74:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c **** static inline void clear_log_level_list();
  75:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c **** 
  76:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c **** void stm_log_init(void)
  77:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c **** {
  78:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****     __HAL_RCC_UART4_CLK_ENABLE();
  79:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****     __HAL_RCC_GPIOA_CLK_ENABLE();
  80:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c **** 
  81:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****     huart_log.Instance = UART4;
  82:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****     huart_log.Init.BaudRate = 115200;
  83:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****     huart_log.Init.WordLength = UART_WORDLENGTH_8B;
  84:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****     huart_log.Init.StopBits = UART_STOPBITS_1;
  85:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****     huart_log.Init.Parity = UART_PARITY_NONE;
  86:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****     huart_log.Init.Mode = UART_MODE_TX_RX;
  87:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****     huart_log.Init.HwFlowCtl = UART_HWCONTROL_NONE;
  88:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****     huart_log.Init.OverSampling = UART_OVERSAMPLING_16;
  89:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****     HAL_UART_Init(&huart_log);
ARM GAS  /tmp/cct0xKoJ.s 			page 3


  90:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c **** 
  91:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****     GPIO_InitTypeDef GPIO_InitStruct = {0};
  92:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****     GPIO_InitStruct.Pin = GPIO_PIN_0|GPIO_PIN_1;
  93:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****     GPIO_InitStruct.Mode = GPIO_MODE_AF_PP;
  94:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****     GPIO_InitStruct.Pull = GPIO_PULLUP;
  95:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****     GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_VERY_HIGH;
  96:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****     GPIO_InitStruct.Alternate = GPIO_AF8_UART4;
  97:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****     HAL_GPIO_Init(GPIOA, &GPIO_InitStruct);
  98:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c **** }
  99:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c **** 
 100:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c **** void stm_log_level_set(const char *tag, stm_log_level_t level)
 101:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c **** {
 102:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****     if (!set_log_lock)
 103:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****     {
 104:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****         set_log_lock = xSemaphoreCreateMutex();
 105:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****     }
 106:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****     xSemaphoreTake(set_log_lock, portMAX_DELAY);
 107:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c **** 
 108:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****     /* For wildcard tag, remove all linked list item and clear the cache */
 109:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****     if (strcmp(tag, "*") == 0)
 110:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****     {
 111:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****         set_log_default_level = level;
 112:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****         clear_log_level_list();
 113:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****         xSemaphoreGive(set_log_lock);
 114:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****         return;
 115:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****     }
 116:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c **** 
 117:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****     /* Searching exist tag */
 118:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****     uncached_tag_entry_t *it = NULL;
 119:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****     SLIST_FOREACH(it, &set_log_tags, entries)
 120:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****     {
 121:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****         if (strcmp(it->tag, tag) == 0)
 122:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****         {
 123:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****             /* Update level for tag already been in linked list */
 124:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****             it->level = level;
 125:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****             break;
 126:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****         }
 127:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****     }
 128:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c **** 
 129:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****     /* Append new one if have no exist tag */
 130:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****     if (it == NULL)
 131:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****     {
 132:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****         /* Allocate memory for linked list entry and append it to the head of the list */
 133:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****         size_t entry_size = offsetof(uncached_tag_entry_t, tag) + strlen(tag) + 1;
 134:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****         uncached_tag_entry_t *new_entry = (uncached_tag_entry_t*)malloc(entry_size);
 135:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****         if (!new_entry)
 136:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****         {
 137:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****             xSemaphoreGive(set_log_lock);
 138:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****             return;
 139:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****         }
 140:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****         new_entry->level = (uint8_t)level;
 141:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****         strcpy(new_entry->tag, tag);
 142:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****         SLIST_INSERT_HEAD(&set_log_tags, new_entry, entries);
 143:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****     }
 144:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c **** 
 145:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****     /* Searching in the cache and update */
 146:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****     for (int i = 0; i < set_log_cache_entry_count; ++i)
ARM GAS  /tmp/cct0xKoJ.s 			page 4


 147:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****     {
 148:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****         if (strcmp(set_log_cache[i].tag, tag) == 0)
 149:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****         {
 150:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****             set_log_cache[i].level = level;
 151:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****             break;
 152:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****         }
 153:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****     }
 154:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****     xSemaphoreGive(set_log_lock);
 155:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c **** }
 156:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c **** 
 157:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c **** static void clear_log_level_list(void)
 158:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c **** {
 159:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****     uncached_tag_entry_t *it;
 160:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****     while ((it = SLIST_FIRST(&set_log_tags)) != NULL) {
 161:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****         SLIST_REMOVE_HEAD(&set_log_tags, entries);
 162:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****         free(it);
 163:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****     }
 164:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c **** 
 165:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****     /* Reset log cache counter */
 166:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****     set_log_cache_entry_count = 0;
 167:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****     set_log_cache_max_generation = 0;
 168:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c **** }
 169:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c **** 
 170:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c **** void stm_log_write(stm_log_level_t level, const char* tag, const char* format, ...)
 171:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c **** {
 172:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****     if (!set_log_lock)
 173:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****     {
 174:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****         set_log_lock = xSemaphoreCreateMutex();
 175:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****     }
 176:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c **** 
 177:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****     if (xSemaphoreTake(set_log_lock, MAX_MUTEX_WAIT_TICKS) == pdFALSE)
 178:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****     {
 179:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****         return;
 180:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****     }
 181:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c **** 
 182:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****     /* Look or the tag in cache first, then in the linked va_list of all tags */
 183:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****     stm_log_level_t level_for_tag;
 184:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****     if (!get_cached_log_level(tag, &level_for_tag))
 185:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****     {
 186:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****         if (!get_uncached_log_level(tag, &level_for_tag))
 187:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****         {
 188:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****             level_for_tag = set_log_default_level;
 189:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****         }
 190:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****         add_to_cache(tag, level_for_tag);
 191:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****     }
 192:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c **** 
 193:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****     xSemaphoreGive(set_log_lock);
 194:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****     if (!should_output(level, level_for_tag))
 195:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****     {
 196:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****         return;
 197:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****     }
 198:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c **** 
 199:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****     va_list list;
 200:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****     va_start(list, format);
 201:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****     uint16_t length = vsnprintf((char*)log_buf, 128, format, list);
 202:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****     HAL_UART_Transmit(&huart_log, (uint8_t*)log_buf, length, 100);
 203:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****     va_end(list);
ARM GAS  /tmp/cct0xKoJ.s 			page 5


 204:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c **** }
 205:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c **** 
 206:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c **** static inline bool get_cached_log_level(const char *tag, stm_log_level_t *level)
 207:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c **** {
 208:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****     /* Look for tag in cache */
 209:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****     int i;
 210:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****     for (i = 0; i < set_log_cache_entry_count; ++i)
 211:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****     {
 212:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****         if (set_log_cache[i].tag == tag) {
 213:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****             break;
 214:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****         }
 215:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****     }
 216:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c **** 
 217:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****     if (i == set_log_cache_entry_count)
 218:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****     {
 219:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****         return false;
 220:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****     }
 221:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c **** 
 222:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****     /* Return level from cache */
 223:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****     *level = (stm_log_level_t) set_log_cache[i].level;
 224:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c **** 
 225:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****     /* If cache has been filled, start taking ordering into account
 226:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****     (other options are: dynamically resize cache, add "dummy" entries
 227:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****      to the cache; this option was chosen because code is much simpler,
 228:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****      and the unfair behavior of cache will show it self at most once, when
 229:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****      it has just been filled) */
 230:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****     if (set_log_cache_entry_count == TAG_CACHE_SIZE)
 231:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****     {
 232:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****         /* Update item generation */
 233:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****         set_log_cache[i].generation = set_log_cache_max_generation++;
 234:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c **** 
 235:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****         /* Restore heap odering */
 236:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****         heap_bubble_down(i);
 237:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****     }
 238:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****     return true;
 239:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c **** }
 240:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c **** 
 241:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c **** static inline void add_to_cache(const char *tag, stm_log_level_t level)
 242:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c **** {
 243:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****     uint32_t generation = set_log_cache_max_generation++;
 244:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c **** 
 245:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****     /* First consider the case when cache is not filled yet.
 246:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****     In this case, just add new entry at the end.
 247:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****     This happens to satisfy binary min-heap ordering. */
 248:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****     if (set_log_cache_entry_count < TAG_CACHE_SIZE)
 249:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****     {
 250:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****         set_log_cache[set_log_cache_entry_count] = (cached_tag_entry_t) {
 251:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****             .generation = generation,
 252:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****             .level = level,
 253:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****             .tag = tag
 254:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****         };
 255:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****         ++set_log_cache_entry_count;
 256:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****         return;
 257:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****     }
 258:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c **** 
 259:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****     /* Cache is full, so we replace the oldest entry (which is at index 0
 260:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****     because this is a min-heap) with the new one, and do bubble-down
ARM GAS  /tmp/cct0xKoJ.s 			page 6


 261:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****     operation to restore min-heap ordering. */
 262:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****     set_log_cache[0] = (cached_tag_entry_t) {
 263:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****         .tag = tag,
 264:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****         .level = level,
 265:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****         .generation = generation
 266:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****     };
 267:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****     heap_bubble_down(0);
 268:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c **** }
 269:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c **** 
 270:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c **** static inline bool get_uncached_log_level(const char *tag, stm_log_level_t *level)
 271:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c **** {
 272:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****     /* Walk the linked list of all tags and see if given tag is present in the list.
 273:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****     This is slow because tags are compared as strings. */
 274:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****     uncached_tag_entry_t *it;
 275:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****     SLIST_FOREACH(it, &set_log_tags, entries)
 276:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****     {
 277:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****         if (strcmp(tag, it->tag) == 0)
 278:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****         {
 279:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****             *level = it->level;
 280:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****             return true;
 281:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****         }
 282:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****     }
 283:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****     return false;
 284:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c **** }
 285:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c **** 
 286:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c **** static inline bool should_output(stm_log_level_t level_for_message, stm_log_level_t level_for_tag)
 287:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c **** {
 288:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****     return level_for_message <= level_for_tag;
 289:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c **** }
 290:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c **** 
 291:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c **** static void heap_bubble_down(int index)
 292:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c **** {
  27              		.loc 1 292 0
  28              		.cfi_startproc
  29              		@ args = 0, pretend = 0, frame = 8
  30              		@ frame_needed = 0, uses_anonymous_args = 0
  31              		@ link register save eliminated.
  32              	.LVL0:
 293:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****     while (index < TAG_CACHE_SIZE / 2)
  33              		.loc 1 293 0
  34 0000 0E28     		cmp	r0, #14
  35 0002 2BDC     		bgt	.L8
 292:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****     while (index < TAG_CACHE_SIZE / 2)
  36              		.loc 1 292 0
  37 0004 30B4     		push	{r4, r5}
  38              	.LCFI0:
  39              		.cfi_def_cfa_offset 8
  40              		.cfi_offset 4, -8
  41              		.cfi_offset 5, -4
  42 0006 82B0     		sub	sp, sp, #8
  43              	.LCFI1:
  44              		.cfi_def_cfa_offset 16
  45 0008 13E0     		b	.L4
  46              	.LVL1:
  47              	.L3:
  48              	.LBB7:
  49              	.LBB8:
ARM GAS  /tmp/cct0xKoJ.s 			page 7


  50              	.LBB9:
 294:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****     {
 295:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****         int left_index = index * 2 + 1;
 296:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****         int right_index = left_index + 1;
 297:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****         int next = (set_log_cache[left_index].generation < set_log_cache[right_index].generation) ?
 298:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****         heap_swap(index, next);
 299:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****         index = next;
 300:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****     }
 301:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c **** }
 302:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c **** 
 303:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c **** static inline void heap_swap(int i, int j)
 304:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c **** {
 305:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****     cached_tag_entry_t tmp = set_log_cache[i];
  51              		.loc 1 305 0 discriminator 4
  52 000a 154A     		ldr	r2, .L10
  53 000c 02EBC003 		add	r3, r2, r0, lsl #3
  54 0010 93E80300 		ldm	r3, {r0, r1}
  55              	.LVL2:
  56 0014 8DE80300 		stm	sp, {r0, r1}
 306:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****     set_log_cache[i] = set_log_cache[j];
  57              		.loc 1 306 0 discriminator 4
  58 0018 02EBC402 		add	r2, r2, r4, lsl #3
  59 001c 92E80300 		ldm	r2, {r0, r1}
  60 0020 83E80300 		stm	r3, {r0, r1}
 307:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****     set_log_cache[j] = tmp;
  61              		.loc 1 307 0 discriminator 4
  62 0024 9DE80300 		ldm	sp, {r0, r1}
  63 0028 82E80300 		stm	r2, {r0, r1}
  64              	.LVL3:
  65              	.LBE9:
  66              	.LBE8:
 299:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****     }
  67              		.loc 1 299 0 discriminator 4
  68 002c 2046     		mov	r0, r4
  69              	.LBE7:
 293:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****     {
  70              		.loc 1 293 0 discriminator 4
  71 002e 0E2C     		cmp	r4, #14
  72 0030 11DC     		bgt	.L9
  73              	.LVL4:
  74              	.L4:
  75              	.LBB10:
 295:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****         int right_index = left_index + 1;
  76              		.loc 1 295 0
  77 0032 4400     		lsls	r4, r0, #1
  78 0034 611C     		adds	r1, r4, #1
  79              	.LVL5:
 296:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****         int next = (set_log_cache[left_index].generation < set_log_cache[right_index].generation) ?
  80              		.loc 1 296 0
  81 0036 0234     		adds	r4, r4, #2
  82              	.LVL6:
 297:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****         heap_swap(index, next);
  83              		.loc 1 297 0
  84 0038 094B     		ldr	r3, .L10
  85 003a 03EBC102 		add	r2, r3, r1, lsl #3
  86 003e 5268     		ldr	r2, [r2, #4]
  87 0040 C2F3DC02 		ubfx	r2, r2, #3, #29
ARM GAS  /tmp/cct0xKoJ.s 			page 8


  88 0044 03EBC403 		add	r3, r3, r4, lsl #3
  89 0048 5B68     		ldr	r3, [r3, #4]
  90 004a C3F3DC03 		ubfx	r3, r3, #3, #29
  91 004e 9A42     		cmp	r2, r3
  92 0050 DBDA     		bge	.L3
  93 0052 0C46     		mov	r4, r1
  94              	.LVL7:
  95 0054 D9E7     		b	.L3
  96              	.LVL8:
  97              	.L9:
  98              	.LBE10:
 301:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c **** 
  99              		.loc 1 301 0
 100 0056 02B0     		add	sp, sp, #8
 101              	.LCFI2:
 102              		.cfi_def_cfa_offset 8
 103              		@ sp needed
 104 0058 30BC     		pop	{r4, r5}
 105              	.LCFI3:
 106              		.cfi_restore 5
 107              		.cfi_restore 4
 108              		.cfi_def_cfa_offset 0
 109 005a 7047     		bx	lr
 110              	.LVL9:
 111              	.L8:
 112 005c 7047     		bx	lr
 113              	.L11:
 114 005e 00BF     		.align	2
 115              	.L10:
 116 0060 00000000 		.word	.LANCHOR0
 117              		.cfi_endproc
 118              	.LFE146:
 120              		.section	.text.stm_log_init,"ax",%progbits
 121              		.align	1
 122              		.global	stm_log_init
 123              		.syntax unified
 124              		.thumb
 125              		.thumb_func
 126              		.fpu fpv4-sp-d16
 128              	stm_log_init:
 129              	.LFB138:
  77:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****     __HAL_RCC_UART4_CLK_ENABLE();
 130              		.loc 1 77 0
 131              		.cfi_startproc
 132              		@ args = 0, pretend = 0, frame = 32
 133              		@ frame_needed = 0, uses_anonymous_args = 0
 134 0000 00B5     		push	{lr}
 135              	.LCFI4:
 136              		.cfi_def_cfa_offset 4
 137              		.cfi_offset 14, -4
 138 0002 89B0     		sub	sp, sp, #36
 139              	.LCFI5:
 140              		.cfi_def_cfa_offset 40
 141              	.LBB11:
  78:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****     __HAL_RCC_GPIOA_CLK_ENABLE();
 142              		.loc 1 78 0
 143 0004 0023     		movs	r3, #0
ARM GAS  /tmp/cct0xKoJ.s 			page 9


 144 0006 0193     		str	r3, [sp, #4]
 145 0008 194A     		ldr	r2, .L14
 146 000a 116C     		ldr	r1, [r2, #64]
 147 000c 41F40021 		orr	r1, r1, #524288
 148 0010 1164     		str	r1, [r2, #64]
 149 0012 116C     		ldr	r1, [r2, #64]
 150 0014 01F40021 		and	r1, r1, #524288
 151 0018 0191     		str	r1, [sp, #4]
 152 001a 0199     		ldr	r1, [sp, #4]
 153              	.LBE11:
 154              	.LBB12:
  79:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c **** 
 155              		.loc 1 79 0
 156 001c 0293     		str	r3, [sp, #8]
 157 001e 116B     		ldr	r1, [r2, #48]
 158 0020 41F00101 		orr	r1, r1, #1
 159 0024 1163     		str	r1, [r2, #48]
 160 0026 126B     		ldr	r2, [r2, #48]
 161 0028 02F00102 		and	r2, r2, #1
 162 002c 0292     		str	r2, [sp, #8]
 163 002e 029A     		ldr	r2, [sp, #8]
 164              	.LBE12:
  81:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****     huart_log.Init.BaudRate = 115200;
 165              		.loc 1 81 0
 166 0030 1048     		ldr	r0, .L14+4
 167 0032 114A     		ldr	r2, .L14+8
 168 0034 0260     		str	r2, [r0]
  82:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****     huart_log.Init.WordLength = UART_WORDLENGTH_8B;
 169              		.loc 1 82 0
 170 0036 4FF4E132 		mov	r2, #115200
 171 003a 4260     		str	r2, [r0, #4]
  83:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****     huart_log.Init.StopBits = UART_STOPBITS_1;
 172              		.loc 1 83 0
 173 003c 8360     		str	r3, [r0, #8]
  84:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****     huart_log.Init.Parity = UART_PARITY_NONE;
 174              		.loc 1 84 0
 175 003e C360     		str	r3, [r0, #12]
  85:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****     huart_log.Init.Mode = UART_MODE_TX_RX;
 176              		.loc 1 85 0
 177 0040 0361     		str	r3, [r0, #16]
  86:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****     huart_log.Init.HwFlowCtl = UART_HWCONTROL_NONE;
 178              		.loc 1 86 0
 179 0042 0C22     		movs	r2, #12
 180 0044 4261     		str	r2, [r0, #20]
  87:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****     huart_log.Init.OverSampling = UART_OVERSAMPLING_16;
 181              		.loc 1 87 0
 182 0046 8361     		str	r3, [r0, #24]
  88:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****     HAL_UART_Init(&huart_log);
 183              		.loc 1 88 0
 184 0048 C361     		str	r3, [r0, #28]
  89:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c **** 
 185              		.loc 1 89 0
 186 004a FFF7FEFF 		bl	HAL_UART_Init
 187              	.LVL10:
  92:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****     GPIO_InitStruct.Mode = GPIO_MODE_AF_PP;
 188              		.loc 1 92 0
 189 004e 0323     		movs	r3, #3
ARM GAS  /tmp/cct0xKoJ.s 			page 10


 190 0050 0393     		str	r3, [sp, #12]
  93:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****     GPIO_InitStruct.Pull = GPIO_PULLUP;
 191              		.loc 1 93 0
 192 0052 0222     		movs	r2, #2
 193 0054 0492     		str	r2, [sp, #16]
  94:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****     GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_VERY_HIGH;
 194              		.loc 1 94 0
 195 0056 0122     		movs	r2, #1
 196 0058 0592     		str	r2, [sp, #20]
  95:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****     GPIO_InitStruct.Alternate = GPIO_AF8_UART4;
 197              		.loc 1 95 0
 198 005a 0693     		str	r3, [sp, #24]
  96:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****     HAL_GPIO_Init(GPIOA, &GPIO_InitStruct);
 199              		.loc 1 96 0
 200 005c 0823     		movs	r3, #8
 201 005e 0793     		str	r3, [sp, #28]
  97:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c **** }
 202              		.loc 1 97 0
 203 0060 03A9     		add	r1, sp, #12
 204 0062 0648     		ldr	r0, .L14+12
 205 0064 FFF7FEFF 		bl	HAL_GPIO_Init
 206              	.LVL11:
  98:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c **** 
 207              		.loc 1 98 0
 208 0068 09B0     		add	sp, sp, #36
 209              	.LCFI6:
 210              		.cfi_def_cfa_offset 4
 211              		@ sp needed
 212 006a 5DF804FB 		ldr	pc, [sp], #4
 213              	.L15:
 214 006e 00BF     		.align	2
 215              	.L14:
 216 0070 00380240 		.word	1073887232
 217 0074 00000000 		.word	.LANCHOR1
 218 0078 004C0040 		.word	1073761280
 219 007c 00000240 		.word	1073872896
 220              		.cfi_endproc
 221              	.LFE138:
 223              		.section	.text.stm_log_level_set,"ax",%progbits
 224              		.align	1
 225              		.global	stm_log_level_set
 226              		.syntax unified
 227              		.thumb
 228              		.thumb_func
 229              		.fpu fpv4-sp-d16
 231              	stm_log_level_set:
 232              	.LFB139:
 101:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****     if (!set_log_lock)
 233              		.loc 1 101 0
 234              		.cfi_startproc
 235              		@ args = 0, pretend = 0, frame = 0
 236              		@ frame_needed = 0, uses_anonymous_args = 0
 237              	.LVL12:
 238 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 239              	.LCFI7:
 240              		.cfi_def_cfa_offset 24
 241              		.cfi_offset 3, -24
ARM GAS  /tmp/cct0xKoJ.s 			page 11


 242              		.cfi_offset 4, -20
 243              		.cfi_offset 5, -16
 244              		.cfi_offset 6, -12
 245              		.cfi_offset 7, -8
 246              		.cfi_offset 14, -4
 247 0002 0546     		mov	r5, r0
 248 0004 0E46     		mov	r6, r1
 102:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****     {
 249              		.loc 1 102 0
 250 0006 374B     		ldr	r3, .L39
 251 0008 1B68     		ldr	r3, [r3]
 252 000a ABB1     		cbz	r3, .L33
 253              	.LVL13:
 254              	.L17:
 106:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c **** 
 255              		.loc 1 106 0
 256 000c 4FF0FF31 		mov	r1, #-1
 257 0010 344B     		ldr	r3, .L39
 258 0012 1868     		ldr	r0, [r3]
 259 0014 FFF7FEFF 		bl	xQueueSemaphoreTake
 260              	.LVL14:
 109:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****     {
 261              		.loc 1 109 0
 262 0018 3349     		ldr	r1, .L39+4
 263 001a 2846     		mov	r0, r5
 264 001c FFF7FEFF 		bl	strcmp
 265              	.LVL15:
 266 0020 80B1     		cbz	r0, .L34
 267              	.LVL16:
 119:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****     {
 268              		.loc 1 119 0
 269 0022 324B     		ldr	r3, .L39+8
 270 0024 1F68     		ldr	r7, [r3]
 271              	.LVL17:
 272 0026 3C46     		mov	r4, r7
 273              	.LVL18:
 274              	.L22:
 119:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****     {
 275              		.loc 1 119 0 is_stmt 0 discriminator 1
 276 0028 2CB3     		cbz	r4, .L24
 121:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****         {
 277              		.loc 1 121 0 is_stmt 1
 278 002a 2946     		mov	r1, r5
 279 002c 601D     		adds	r0, r4, #5
 280 002e FFF7FEFF 		bl	strcmp
 281              	.LVL19:
 282 0032 F8B1     		cbz	r0, .L35
 119:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****     {
 283              		.loc 1 119 0 discriminator 2
 284 0034 2468     		ldr	r4, [r4]
 285              	.LVL20:
 286 0036 F7E7     		b	.L22
 287              	.LVL21:
 288              	.L33:
 104:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****     }
 289              		.loc 1 104 0
 290 0038 0120     		movs	r0, #1
ARM GAS  /tmp/cct0xKoJ.s 			page 12


 291              	.LVL22:
 292 003a FFF7FEFF 		bl	xQueueCreateMutex
 293              	.LVL23:
 294 003e 294B     		ldr	r3, .L39
 295 0040 1860     		str	r0, [r3]
 296 0042 E3E7     		b	.L17
 297              	.L34:
 111:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****         clear_log_level_list();
 298              		.loc 1 111 0
 299 0044 2A4B     		ldr	r3, .L39+12
 300 0046 1E70     		strb	r6, [r3]
 301 0048 04E0     		b	.L19
 302              	.LVL24:
 303              	.L20:
 304              	.LBB17:
 305              	.LBB18:
 161:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****         free(it);
 306              		.loc 1 161 0
 307 004a 0268     		ldr	r2, [r0]
 308 004c 274B     		ldr	r3, .L39+8
 309 004e 1A60     		str	r2, [r3]
 162:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****     }
 310              		.loc 1 162 0
 311 0050 FFF7FEFF 		bl	free
 312              	.LVL25:
 313              	.L19:
 160:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****         SLIST_REMOVE_HEAD(&set_log_tags, entries);
 314              		.loc 1 160 0
 315 0054 254B     		ldr	r3, .L39+8
 316 0056 1868     		ldr	r0, [r3]
 317              	.LVL26:
 318 0058 0028     		cmp	r0, #0
 319 005a F6D1     		bne	.L20
 166:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****     set_log_cache_max_generation = 0;
 320              		.loc 1 166 0
 321 005c 0021     		movs	r1, #0
 322 005e 254B     		ldr	r3, .L39+16
 323 0060 1960     		str	r1, [r3]
 167:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c **** }
 324              		.loc 1 167 0
 325 0062 254B     		ldr	r3, .L39+20
 326 0064 1960     		str	r1, [r3]
 327              	.LVL27:
 328              	.LBE18:
 329              	.LBE17:
 113:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****         return;
 330              		.loc 1 113 0
 331 0066 0B46     		mov	r3, r1
 332 0068 0A46     		mov	r2, r1
 333 006a 1E48     		ldr	r0, .L39
 334 006c 0068     		ldr	r0, [r0]
 335 006e FFF7FEFF 		bl	xQueueGenericSend
 336              	.LVL28:
 114:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****     }
 337              		.loc 1 114 0
 338 0072 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 339              	.LVL29:
ARM GAS  /tmp/cct0xKoJ.s 			page 13


 340              	.L35:
 124:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****             break;
 341              		.loc 1 124 0
 342 0074 2671     		strb	r6, [r4, #4]
 343              	.L24:
 130:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****     {
 344              		.loc 1 130 0
 345 0076 6CB1     		cbz	r4, .L36
 346              	.LVL30:
 347              	.L26:
 348              	.LBB19:
 146:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****     {
 349              		.loc 1 146 0
 350 0078 0024     		movs	r4, #0
 351              	.LVL31:
 352              	.L28:
 146:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****     {
 353              		.loc 1 146 0 is_stmt 0 discriminator 1
 354 007a 1E4B     		ldr	r3, .L39+16
 355 007c 1B68     		ldr	r3, [r3]
 356 007e 9C42     		cmp	r4, r3
 357 0080 28D2     		bcs	.L30
 148:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****         {
 358              		.loc 1 148 0 is_stmt 1
 359 0082 2946     		mov	r1, r5
 360 0084 1D4B     		ldr	r3, .L39+24
 361 0086 53F83400 		ldr	r0, [r3, r4, lsl #3]
 362 008a FFF7FEFF 		bl	strcmp
 363              	.LVL32:
 364 008e D0B1     		cbz	r0, .L37
 146:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****     {
 365              		.loc 1 146 0 discriminator 2
 366 0090 0134     		adds	r4, r4, #1
 367              	.LVL33:
 368 0092 F2E7     		b	.L28
 369              	.LVL34:
 370              	.L36:
 371              	.LBE19:
 372              	.LBB20:
 133:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****         uncached_tag_entry_t *new_entry = (uncached_tag_entry_t*)malloc(entry_size);
 373              		.loc 1 133 0
 374 0094 2846     		mov	r0, r5
 375 0096 FFF7FEFF 		bl	strlen
 376              	.LVL35:
 134:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****         if (!new_entry)
 377              		.loc 1 134 0
 378 009a 0630     		adds	r0, r0, #6
 379              	.LVL36:
 380 009c FFF7FEFF 		bl	malloc
 381              	.LVL37:
 135:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****         {
 382              		.loc 1 135 0
 383 00a0 0446     		mov	r4, r0
 384              	.LVL38:
 385 00a2 40B1     		cbz	r0, .L38
 140:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****         strcpy(new_entry->tag, tag);
 386              		.loc 1 140 0
ARM GAS  /tmp/cct0xKoJ.s 			page 14


 387 00a4 0671     		strb	r6, [r0, #4]
 141:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****         SLIST_INSERT_HEAD(&set_log_tags, new_entry, entries);
 388              		.loc 1 141 0
 389 00a6 2946     		mov	r1, r5
 390 00a8 0530     		adds	r0, r0, #5
 391              	.LVL39:
 392 00aa FFF7FEFF 		bl	strcpy
 393              	.LVL40:
 142:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****     }
 394              		.loc 1 142 0
 395 00ae 2760     		str	r7, [r4]
 396 00b0 0E4B     		ldr	r3, .L39+8
 397 00b2 1C60     		str	r4, [r3]
 398 00b4 E0E7     		b	.L26
 399              	.LVL41:
 400              	.L38:
 137:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****             return;
 401              		.loc 1 137 0
 402 00b6 0023     		movs	r3, #0
 403 00b8 1A46     		mov	r2, r3
 404 00ba 1946     		mov	r1, r3
 405 00bc 0948     		ldr	r0, .L39
 406              	.LVL42:
 407 00be 0068     		ldr	r0, [r0]
 408 00c0 FFF7FEFF 		bl	xQueueGenericSend
 409              	.LVL43:
 138:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****         }
 410              		.loc 1 138 0
 411 00c4 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 412              	.LVL44:
 413              	.L37:
 414              	.LBE20:
 415              	.LBB21:
 150:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****             break;
 416              		.loc 1 150 0
 417 00c6 0D4B     		ldr	r3, .L39+24
 418 00c8 03EBC404 		add	r4, r3, r4, lsl #3
 419              	.LVL45:
 420 00cc 2379     		ldrb	r3, [r4, #4]	@ zero_extendqisi2
 421 00ce 66F30203 		bfi	r3, r6, #0, #3
 422 00d2 2371     		strb	r3, [r4, #4]
 423              	.L30:
 424              	.LBE21:
 154:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c **** }
 425              		.loc 1 154 0
 426 00d4 0023     		movs	r3, #0
 427 00d6 1A46     		mov	r2, r3
 428 00d8 1946     		mov	r1, r3
 429 00da 0248     		ldr	r0, .L39
 430 00dc 0068     		ldr	r0, [r0]
 431 00de FFF7FEFF 		bl	xQueueGenericSend
 432              	.LVL46:
 433 00e2 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 434              	.LVL47:
 435              	.L40:
 436              		.align	2
 437              	.L39:
ARM GAS  /tmp/cct0xKoJ.s 			page 15


 438 00e4 00000000 		.word	.LANCHOR2
 439 00e8 00000000 		.word	.LC0
 440 00ec 00000000 		.word	.LANCHOR4
 441 00f0 00000000 		.word	.LANCHOR3
 442 00f4 00000000 		.word	.LANCHOR5
 443 00f8 00000000 		.word	.LANCHOR6
 444 00fc 00000000 		.word	.LANCHOR0
 445              		.cfi_endproc
 446              	.LFE139:
 448              		.section	.text.stm_log_write,"ax",%progbits
 449              		.align	1
 450              		.global	stm_log_write
 451              		.syntax unified
 452              		.thumb
 453              		.thumb_func
 454              		.fpu fpv4-sp-d16
 456              	stm_log_write:
 457              	.LFB141:
 171:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****     if (!set_log_lock)
 458              		.loc 1 171 0
 459              		.cfi_startproc
 460              		@ args = 4, pretend = 8, frame = 8
 461              		@ frame_needed = 0, uses_anonymous_args = 1
 462              	.LVL48:
 463 0000 0CB4     		push	{r2, r3}
 464              	.LCFI8:
 465              		.cfi_def_cfa_offset 8
 466              		.cfi_offset 2, -8
 467              		.cfi_offset 3, -4
 468 0002 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 469              	.LCFI9:
 470              		.cfi_def_cfa_offset 32
 471              		.cfi_offset 4, -32
 472              		.cfi_offset 5, -28
 473              		.cfi_offset 6, -24
 474              		.cfi_offset 7, -20
 475              		.cfi_offset 8, -16
 476              		.cfi_offset 14, -12
 477 0006 82B0     		sub	sp, sp, #8
 478              	.LCFI10:
 479              		.cfi_def_cfa_offset 40
 480 0008 0546     		mov	r5, r0
 481 000a 0C46     		mov	r4, r1
 172:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****     {
 482              		.loc 1 172 0
 483 000c 4A4B     		ldr	r3, .L63
 484 000e 1B68     		ldr	r3, [r3]
 485 0010 53B1     		cbz	r3, .L59
 486              	.LVL49:
 487              	.L42:
 177:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****     {
 488              		.loc 1 177 0
 489 0012 0A21     		movs	r1, #10
 490 0014 484B     		ldr	r3, .L63
 491 0016 1868     		ldr	r0, [r3]
 492 0018 FFF7FEFF 		bl	xQueueSemaphoreTake
 493              	.LVL50:
ARM GAS  /tmp/cct0xKoJ.s 			page 16


 494 001c 50B9     		cbnz	r0, .L60
 495              	.LVL51:
 496              	.L41:
 204:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c **** 
 497              		.loc 1 204 0
 498 001e 02B0     		add	sp, sp, #8
 499              	.LCFI11:
 500              		.cfi_remember_state
 501              		.cfi_def_cfa_offset 32
 502              		@ sp needed
 503 0020 BDE8F041 		pop	{r4, r5, r6, r7, r8, lr}
 504              	.LCFI12:
 505              		.cfi_restore 14
 506              		.cfi_restore 8
 507              		.cfi_restore 7
 508              		.cfi_restore 6
 509              		.cfi_restore 5
 510              		.cfi_restore 4
 511              		.cfi_def_cfa_offset 8
 512 0024 02B0     		add	sp, sp, #8
 513              	.LCFI13:
 514              		.cfi_restore 3
 515              		.cfi_restore 2
 516              		.cfi_def_cfa_offset 0
 517 0026 7047     		bx	lr
 518              	.LVL52:
 519              	.L59:
 520              	.LCFI14:
 521              		.cfi_restore_state
 174:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****     }
 522              		.loc 1 174 0
 523 0028 0120     		movs	r0, #1
 524              	.LVL53:
 525 002a FFF7FEFF 		bl	xQueueCreateMutex
 526              	.LVL54:
 527 002e 424B     		ldr	r3, .L63
 528 0030 1860     		str	r0, [r3]
 529 0032 EEE7     		b	.L42
 530              	.L60:
 531              	.LBB28:
 532              	.LBB29:
 210:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****     {
 533              		.loc 1 210 0
 534 0034 0020     		movs	r0, #0
 535              	.L44:
 536              	.LVL55:
 537 0036 0146     		mov	r1, r0
 538 0038 404B     		ldr	r3, .L63+4
 539 003a 1B68     		ldr	r3, [r3]
 540 003c 9842     		cmp	r0, r3
 541 003e 06D2     		bcs	.L45
 212:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****             break;
 542              		.loc 1 212 0
 543 0040 3F4A     		ldr	r2, .L63+8
 544 0042 52F83020 		ldr	r2, [r2, r0, lsl #3]
 545 0046 9442     		cmp	r4, r2
 546 0048 01D0     		beq	.L45
ARM GAS  /tmp/cct0xKoJ.s 			page 17


 210:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****     {
 547              		.loc 1 210 0
 548 004a 0130     		adds	r0, r0, #1
 549              	.LVL56:
 550 004c F3E7     		b	.L44
 551              	.L45:
 217:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****     {
 552              		.loc 1 217 0
 553 004e 9942     		cmp	r1, r3
 554 0050 34D0     		beq	.L56
 223:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c **** 
 555              		.loc 1 223 0
 556 0052 3B4A     		ldr	r2, .L63+8
 557 0054 02EBC002 		add	r2, r2, r0, lsl #3
 558 0058 1679     		ldrb	r6, [r2, #4]	@ zero_extendqisi2
 559 005a 06F00706 		and	r6, r6, #7
 560              	.LVL57:
 230:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****     {
 561              		.loc 1 230 0
 562 005e 1F2B     		cmp	r3, #31
 563 0060 1CD0     		beq	.L61
 238:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c **** }
 564              		.loc 1 238 0
 565 0062 4FF00108 		mov	r8, #1
 566              	.LVL58:
 567              	.L47:
 568              	.LBE29:
 569              	.LBE28:
 184:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****     {
 570              		.loc 1 184 0
 571 0066 B8F1000F 		cmp	r8, #0
 572 006a 2AD0     		beq	.L62
 573              	.L48:
 193:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****     if (!should_output(level, level_for_tag))
 574              		.loc 1 193 0
 575 006c 0023     		movs	r3, #0
 576 006e 1A46     		mov	r2, r3
 577 0070 1946     		mov	r1, r3
 578 0072 3148     		ldr	r0, .L63
 579 0074 0068     		ldr	r0, [r0]
 580 0076 FFF7FEFF 		bl	xQueueGenericSend
 581              	.LVL59:
 194:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****     {
 582              		.loc 1 194 0
 583 007a B542     		cmp	r5, r6
 584 007c CFD8     		bhi	.L41
 200:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****     uint16_t length = vsnprintf((char*)log_buf, 128, format, list);
 585              		.loc 1 200 0
 586 007e 09AB     		add	r3, sp, #36
 587 0080 0193     		str	r3, [sp, #4]
 201:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****     HAL_UART_Transmit(&huart_log, (uint8_t*)log_buf, length, 100);
 588              		.loc 1 201 0
 589 0082 304C     		ldr	r4, .L63+12
 590              	.LVL60:
 591 0084 089A     		ldr	r2, [sp, #32]
 592 0086 8021     		movs	r1, #128
 593 0088 2046     		mov	r0, r4
ARM GAS  /tmp/cct0xKoJ.s 			page 18


 594 008a FFF7FEFF 		bl	vsnprintf
 595              	.LVL61:
 202:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****     va_end(list);
 596              		.loc 1 202 0
 597 008e 6423     		movs	r3, #100
 598 0090 82B2     		uxth	r2, r0
 599 0092 2146     		mov	r1, r4
 600 0094 2C48     		ldr	r0, .L63+16
 601              	.LVL62:
 602 0096 FFF7FEFF 		bl	HAL_UART_Transmit
 603              	.LVL63:
 604 009a C0E7     		b	.L41
 605              	.LVL64:
 606              	.L61:
 607              	.LBB31:
 608              	.LBB30:
 233:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c **** 
 609              		.loc 1 233 0
 610 009c 2B4B     		ldr	r3, .L63+20
 611 009e 1968     		ldr	r1, [r3]
 612 00a0 4A1C     		adds	r2, r1, #1
 613              	.LVL65:
 614 00a2 1A60     		str	r2, [r3]
 615 00a4 264B     		ldr	r3, .L63+8
 616              	.LVL66:
 617 00a6 03EBC003 		add	r3, r3, r0, lsl #3
 618              	.LVL67:
 619 00aa 5A68     		ldr	r2, [r3, #4]
 620 00ac 61F3DF02 		bfi	r2, r1, #3, #29
 621 00b0 5A60     		str	r2, [r3, #4]
 622              	.LVL68:
 236:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****     }
 623              		.loc 1 236 0
 624 00b2 FFF7FEFF 		bl	heap_bubble_down
 625              	.LVL69:
 238:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c **** }
 626              		.loc 1 238 0
 627 00b6 4FF00108 		mov	r8, #1
 628 00ba D4E7     		b	.L47
 629              	.LVL70:
 630              	.L56:
 219:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****     }
 631              		.loc 1 219 0
 632 00bc 4FF00008 		mov	r8, #0
 633 00c0 D1E7     		b	.L47
 634              	.LVL71:
 635              	.L62:
 636              	.LBE30:
 637              	.LBE31:
 638              	.LBB32:
 639              	.LBB33:
 275:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****     {
 640              		.loc 1 275 0
 641 00c2 234B     		ldr	r3, .L63+24
 642 00c4 1F68     		ldr	r7, [r3]
 643              	.LVL72:
 644 00c6 00E0     		b	.L49
ARM GAS  /tmp/cct0xKoJ.s 			page 19


 645              	.L50:
 646 00c8 3F68     		ldr	r7, [r7]
 647              	.LVL73:
 648              	.L49:
 649 00ca 47B1     		cbz	r7, .L51
 277:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****         {
 650              		.loc 1 277 0
 651 00cc 791D     		adds	r1, r7, #5
 652 00ce 2046     		mov	r0, r4
 653 00d0 FFF7FEFF 		bl	strcmp
 654              	.LVL74:
 655 00d4 0028     		cmp	r0, #0
 656 00d6 F7D1     		bne	.L50
 279:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****             return true;
 657              		.loc 1 279 0
 658 00d8 3E79     		ldrb	r6, [r7, #4]	@ zero_extendqisi2
 659              	.LVL75:
 280:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****         }
 660              		.loc 1 280 0
 661 00da 4FF00108 		mov	r8, #1
 662              	.L51:
 663              	.LVL76:
 664              	.LBE33:
 665              	.LBE32:
 186:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****         {
 666              		.loc 1 186 0
 667 00de B8F1000F 		cmp	r8, #0
 668 00e2 01D1     		bne	.L53
 188:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****         }
 669              		.loc 1 188 0
 670 00e4 1B4B     		ldr	r3, .L63+28
 671 00e6 1E78     		ldrb	r6, [r3]	@ zero_extendqisi2
 672              	.LVL77:
 673              	.L53:
 674              	.LBB34:
 675              	.LBB35:
 243:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c **** 
 676              		.loc 1 243 0
 677 00e8 184B     		ldr	r3, .L63+20
 678 00ea 1968     		ldr	r1, [r3]
 679 00ec 4A1C     		adds	r2, r1, #1
 680 00ee 1A60     		str	r2, [r3]
 681              	.LVL78:
 248:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****     {
 682              		.loc 1 248 0
 683 00f0 124B     		ldr	r3, .L63+4
 684 00f2 1B68     		ldr	r3, [r3]
 685 00f4 1E2B     		cmp	r3, #30
 686 00f6 10D8     		bhi	.L54
 250:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****             .generation = generation,
 687              		.loc 1 250 0
 688 00f8 114A     		ldr	r2, .L63+8
 689 00fa 42F83340 		str	r4, [r2, r3, lsl #3]
 690 00fe 02EBC302 		add	r2, r2, r3, lsl #3
 691 0102 1079     		ldrb	r0, [r2, #4]	@ zero_extendqisi2
 692 0104 66F30200 		bfi	r0, r6, #0, #3
 693 0108 1071     		strb	r0, [r2, #4]
ARM GAS  /tmp/cct0xKoJ.s 			page 20


 694 010a 5068     		ldr	r0, [r2, #4]
 695 010c 61F3DF00 		bfi	r0, r1, #3, #29
 696 0110 5060     		str	r0, [r2, #4]
 255:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****         return;
 697              		.loc 1 255 0
 698 0112 0133     		adds	r3, r3, #1
 699 0114 094A     		ldr	r2, .L63+4
 700 0116 1360     		str	r3, [r2]
 701 0118 A8E7     		b	.L48
 702              	.L54:
 262:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****         .tag = tag,
 703              		.loc 1 262 0
 704 011a 094B     		ldr	r3, .L63+8
 705 011c 1C60     		str	r4, [r3]
 706 011e 1A79     		ldrb	r2, [r3, #4]	@ zero_extendqisi2
 707 0120 66F30202 		bfi	r2, r6, #0, #3
 708 0124 1A71     		strb	r2, [r3, #4]
 709 0126 5A68     		ldr	r2, [r3, #4]
 710 0128 61F3DF02 		bfi	r2, r1, #3, #29
 711 012c 5A60     		str	r2, [r3, #4]
 267:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c **** }
 712              		.loc 1 267 0
 713 012e 0020     		movs	r0, #0
 714 0130 FFF7FEFF 		bl	heap_bubble_down
 715              	.LVL79:
 716 0134 9AE7     		b	.L48
 717              	.L64:
 718 0136 00BF     		.align	2
 719              	.L63:
 720 0138 00000000 		.word	.LANCHOR2
 721 013c 00000000 		.word	.LANCHOR5
 722 0140 00000000 		.word	.LANCHOR0
 723 0144 00000000 		.word	.LANCHOR7
 724 0148 00000000 		.word	.LANCHOR1
 725 014c 00000000 		.word	.LANCHOR6
 726 0150 00000000 		.word	.LANCHOR4
 727 0154 00000000 		.word	.LANCHOR3
 728              	.LBE35:
 729              	.LBE34:
 730              		.cfi_endproc
 731              	.LFE141:
 733              		.section	.text.stm_log_timestamp,"ax",%progbits
 734              		.align	1
 735              		.global	stm_log_timestamp
 736              		.syntax unified
 737              		.thumb
 738              		.thumb_func
 739              		.fpu fpv4-sp-d16
 741              	stm_log_timestamp:
 742              	.LFB148:
 308:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c **** }
 309:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c **** 
 310:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c **** uint32_t stm_log_timestamp(void)
 311:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c **** {
 743              		.loc 1 311 0
 744              		.cfi_startproc
 745              		@ args = 0, pretend = 0, frame = 0
ARM GAS  /tmp/cct0xKoJ.s 			page 21


 746              		@ frame_needed = 0, uses_anonymous_args = 0
 747 0000 08B5     		push	{r3, lr}
 748              	.LCFI15:
 749              		.cfi_def_cfa_offset 8
 750              		.cfi_offset 3, -8
 751              		.cfi_offset 14, -4
 312:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****     return HAL_GetTick();
 752              		.loc 1 312 0
 753 0002 FFF7FEFF 		bl	HAL_GetTick
 754              	.LVL80:
 313:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c **** 
 314:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c **** }
 755              		.loc 1 314 0
 756 0006 08BD     		pop	{r3, pc}
 757              		.cfi_endproc
 758              	.LFE148:
 760              		.section	.text.stm_log_buffer_hex_internal,"ax",%progbits
 761              		.align	1
 762              		.global	stm_log_buffer_hex_internal
 763              		.syntax unified
 764              		.thumb
 765              		.thumb_func
 766              		.fpu fpv4-sp-d16
 768              	stm_log_buffer_hex_internal:
 769              	.LFB149:
 315:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c **** 
 316:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c **** void stm_log_buffer_hex_internal(const char *tag,
 317:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****                                  const char *buffer,
 318:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****                                  uint16_t buff_len,
 319:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****                                  stm_log_level_t log_level)
 320:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c **** {
 770              		.loc 1 320 0
 771              		.cfi_startproc
 772              		@ args = 0, pretend = 0, frame = 72
 773              		@ frame_needed = 0, uses_anonymous_args = 0
 774              	.LVL81:
 775 0000 2DE9F043 		push	{r4, r5, r6, r7, r8, r9, lr}
 776              	.LCFI16:
 777              		.cfi_def_cfa_offset 28
 778              		.cfi_offset 4, -28
 779              		.cfi_offset 5, -24
 780              		.cfi_offset 6, -20
 781              		.cfi_offset 7, -16
 782              		.cfi_offset 8, -12
 783              		.cfi_offset 9, -8
 784              		.cfi_offset 14, -4
 785 0004 95B0     		sub	sp, sp, #84
 786              	.LCFI17:
 787              		.cfi_def_cfa_offset 112
 788 0006 8146     		mov	r9, r0
 789 0008 0E46     		mov	r6, r1
 790 000a 9846     		mov	r8, r3
 321:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****     if (buff_len == 0) return;
 791              		.loc 1 321 0
 792 000c 1546     		mov	r5, r2
 793 000e 72BB     		cbnz	r2, .L78
 794              	.LVL82:
ARM GAS  /tmp/cct0xKoJ.s 			page 22


 795              	.L67:
 322:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****     char temp_buffer[BYTES_PER_LINE + 3];
 323:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****     char hex_buffer[3 * BYTES_PER_LINE + 1];
 324:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****     int bytes_current_line;
 325:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c **** 
 326:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****     do {
 327:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****         if ( buff_len > BYTES_PER_LINE)
 328:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****         {
 329:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****             bytes_current_line = BYTES_PER_LINE;
 330:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****         }
 331:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****         else
 332:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****         {
 333:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****             bytes_current_line = buff_len;
 334:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****         }
 335:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c **** 
 336:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****         memcpy(temp_buffer, buffer, (bytes_current_line + 3) / 4 * 4);
 337:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c **** 
 338:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****         for (int i = 0; i < buff_len; i++)
 339:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****         {
 340:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****             sprintf(&hex_buffer[i * 3], "%02x ", buffer[i]);
 341:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****         }
 342:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c **** 
 343:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****         STM_LOG_LEVEL(log_level, tag, "%s", hex_buffer);
 344:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****         buff_len -= bytes_current_line;
 345:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****         buffer += bytes_current_line;
 346:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****     } while (buff_len);
 347:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c **** }
 796              		.loc 1 347 0
 797 0010 15B0     		add	sp, sp, #84
 798              	.LCFI18:
 799              		.cfi_remember_state
 800              		.cfi_def_cfa_offset 28
 801              		@ sp needed
 802 0012 BDE8F083 		pop	{r4, r5, r6, r7, r8, r9, pc}
 803              	.LVL83:
 804              	.L80:
 805              	.LCFI19:
 806              		.cfi_restore_state
 329:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****         }
 807              		.loc 1 329 0
 808 0016 1027     		movs	r7, #16
 809 0018 2CE0     		b	.L69
 810              	.LVL84:
 811              	.L86:
 336:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c **** 
 812              		.loc 1 336 0
 813 001a 0332     		adds	r2, r2, #3
 814 001c 2CE0     		b	.L70
 815              	.LVL85:
 816              	.L72:
 817              	.LBB36:
 340:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****         }
 818              		.loc 1 340 0 discriminator 3
 819 001e 04EB4400 		add	r0, r4, r4, lsl #1
 820 0022 325D     		ldrb	r2, [r6, r4]	@ zero_extendqisi2
 821 0024 3249     		ldr	r1, .L87
 822 0026 02AB     		add	r3, sp, #8
ARM GAS  /tmp/cct0xKoJ.s 			page 23


 823 0028 1844     		add	r0, r0, r3
 824 002a FFF7FEFF 		bl	sprintf
 825              	.LVL86:
 338:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****         {
 826              		.loc 1 338 0 discriminator 3
 827 002e 0134     		adds	r4, r4, #1
 828              	.LVL87:
 829              	.L71:
 338:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****         {
 830              		.loc 1 338 0 is_stmt 0 discriminator 1
 831 0030 AC42     		cmp	r4, r5
 832 0032 F4DB     		blt	.L72
 833              	.LBE36:
 343:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****         buff_len -= bytes_current_line;
 834              		.loc 1 343 0 is_stmt 1
 835 0034 B8F1010F 		cmp	r8, #1
 836 0038 26D0     		beq	.L82
 343:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****         buff_len -= bytes_current_line;
 837              		.loc 1 343 0 is_stmt 0 discriminator 2
 838 003a B8F1020F 		cmp	r8, #2
 839 003e 30D0     		beq	.L83
 343:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****         buff_len -= bytes_current_line;
 840              		.loc 1 343 0 discriminator 4
 841 0040 B8F1040F 		cmp	r8, #4
 842 0044 3AD0     		beq	.L84
 343:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****         buff_len -= bytes_current_line;
 843              		.loc 1 343 0 discriminator 6
 844 0046 B8F1050F 		cmp	r8, #5
 845 004a 44D0     		beq	.L85
 343:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****         buff_len -= bytes_current_line;
 846              		.loc 1 343 0 discriminator 8
 847 004c FFF7FEFF 		bl	stm_log_timestamp
 848              	.LVL88:
 849 0050 02AB     		add	r3, sp, #8
 850 0052 0193     		str	r3, [sp, #4]
 851 0054 CDF80090 		str	r9, [sp]
 852 0058 0346     		mov	r3, r0
 853 005a 264A     		ldr	r2, .L87+4
 854 005c 4946     		mov	r1, r9
 855 005e 0320     		movs	r0, #3
 856 0060 FFF7FEFF 		bl	stm_log_write
 857              	.LVL89:
 858              	.L74:
 344:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****         buffer += bytes_current_line;
 859              		.loc 1 344 0 is_stmt 1
 860 0064 ED1B     		subs	r5, r5, r7
 861              	.LVL90:
 862 0066 ADB2     		uxth	r5, r5
 863              	.LVL91:
 345:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****     } while (buff_len);
 864              		.loc 1 345 0
 865 0068 3E44     		add	r6, r6, r7
 866              	.LVL92:
 346:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c **** }
 867              		.loc 1 346 0
 868 006a 002D     		cmp	r5, #0
 869 006c D0D0     		beq	.L67
ARM GAS  /tmp/cct0xKoJ.s 			page 24


 870              	.LVL93:
 871              	.L78:
 327:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****         {
 872              		.loc 1 327 0
 873 006e 102D     		cmp	r5, #16
 874 0070 D1D8     		bhi	.L80
 333:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****         }
 875              		.loc 1 333 0
 876 0072 2F46     		mov	r7, r5
 877              	.LVL94:
 878              	.L69:
 336:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c **** 
 879              		.loc 1 336 0
 880 0074 FA1C     		adds	r2, r7, #3
 881 0076 D0D4     		bmi	.L86
 882              	.L70:
 883 0078 22F00302 		bic	r2, r2, #3
 884 007c 3146     		mov	r1, r6
 885 007e 0FA8     		add	r0, sp, #60
 886 0080 FFF7FEFF 		bl	memcpy
 887              	.LVL95:
 888              	.LBB37:
 338:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****         {
 889              		.loc 1 338 0
 890 0084 0024     		movs	r4, #0
 891 0086 D3E7     		b	.L71
 892              	.LVL96:
 893              	.L82:
 894              	.LBE37:
 343:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****         buff_len -= bytes_current_line;
 895              		.loc 1 343 0 discriminator 1
 896 0088 FFF7FEFF 		bl	stm_log_timestamp
 897              	.LVL97:
 898 008c 02AB     		add	r3, sp, #8
 899 008e 0193     		str	r3, [sp, #4]
 900 0090 CDF80090 		str	r9, [sp]
 901 0094 0346     		mov	r3, r0
 902 0096 184A     		ldr	r2, .L87+8
 903 0098 4946     		mov	r1, r9
 904 009a 0120     		movs	r0, #1
 905 009c FFF7FEFF 		bl	stm_log_write
 906              	.LVL98:
 907 00a0 E0E7     		b	.L74
 908              	.L83:
 343:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****         buff_len -= bytes_current_line;
 909              		.loc 1 343 0 is_stmt 0 discriminator 3
 910 00a2 FFF7FEFF 		bl	stm_log_timestamp
 911              	.LVL99:
 912 00a6 02AB     		add	r3, sp, #8
 913 00a8 0193     		str	r3, [sp, #4]
 914 00aa CDF80090 		str	r9, [sp]
 915 00ae 0346     		mov	r3, r0
 916 00b0 124A     		ldr	r2, .L87+12
 917 00b2 4946     		mov	r1, r9
 918 00b4 0220     		movs	r0, #2
 919 00b6 FFF7FEFF 		bl	stm_log_write
 920              	.LVL100:
ARM GAS  /tmp/cct0xKoJ.s 			page 25


 921 00ba D3E7     		b	.L74
 922              	.L84:
 343:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****         buff_len -= bytes_current_line;
 923              		.loc 1 343 0 discriminator 5
 924 00bc FFF7FEFF 		bl	stm_log_timestamp
 925              	.LVL101:
 926 00c0 02AB     		add	r3, sp, #8
 927 00c2 0193     		str	r3, [sp, #4]
 928 00c4 CDF80090 		str	r9, [sp]
 929 00c8 0346     		mov	r3, r0
 930 00ca 0D4A     		ldr	r2, .L87+16
 931 00cc 4946     		mov	r1, r9
 932 00ce 0420     		movs	r0, #4
 933 00d0 FFF7FEFF 		bl	stm_log_write
 934              	.LVL102:
 935 00d4 C6E7     		b	.L74
 936              	.L85:
 343:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****         buff_len -= bytes_current_line;
 937              		.loc 1 343 0 discriminator 7
 938 00d6 FFF7FEFF 		bl	stm_log_timestamp
 939              	.LVL103:
 940 00da 02AB     		add	r3, sp, #8
 941 00dc 0193     		str	r3, [sp, #4]
 942 00de CDF80090 		str	r9, [sp]
 943 00e2 0346     		mov	r3, r0
 944 00e4 074A     		ldr	r2, .L87+20
 945 00e6 4946     		mov	r1, r9
 946 00e8 0520     		movs	r0, #5
 947 00ea FFF7FEFF 		bl	stm_log_write
 948              	.LVL104:
 949 00ee B9E7     		b	.L74
 950              	.L88:
 951              		.align	2
 952              	.L87:
 953 00f0 00000000 		.word	.LC1
 954 00f4 78000000 		.word	.LC6
 955 00f8 08000000 		.word	.LC2
 956 00fc 24000000 		.word	.LC3
 957 0100 40000000 		.word	.LC4
 958 0104 5C000000 		.word	.LC5
 959              		.cfi_endproc
 960              	.LFE149:
 962              		.section	.text.stm_log_buffer_char_internal,"ax",%progbits
 963              		.align	1
 964              		.global	stm_log_buffer_char_internal
 965              		.syntax unified
 966              		.thumb
 967              		.thumb_func
 968              		.fpu fpv4-sp-d16
 970              	stm_log_buffer_char_internal:
 971              	.LFB150:
 348:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c **** 
 349:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c **** void stm_log_buffer_char_internal(const char *tag,
 350:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****                                   const char *buffer,
 351:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****                                   uint16_t buff_len,
 352:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****                                   stm_log_level_t log_level)
 353:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c **** {
ARM GAS  /tmp/cct0xKoJ.s 			page 26


 972              		.loc 1 353 0 is_stmt 1
 973              		.cfi_startproc
 974              		@ args = 0, pretend = 0, frame = 40
 975              		@ frame_needed = 0, uses_anonymous_args = 0
 976              	.LVL105:
 977 0000 2DE9F043 		push	{r4, r5, r6, r7, r8, r9, lr}
 978              	.LCFI20:
 979              		.cfi_def_cfa_offset 28
 980              		.cfi_offset 4, -28
 981              		.cfi_offset 5, -24
 982              		.cfi_offset 6, -20
 983              		.cfi_offset 7, -16
 984              		.cfi_offset 8, -12
 985              		.cfi_offset 9, -8
 986              		.cfi_offset 14, -4
 987 0004 8DB0     		sub	sp, sp, #52
 988              	.LCFI21:
 989              		.cfi_def_cfa_offset 80
 990 0006 8146     		mov	r9, r0
 991 0008 0E46     		mov	r6, r1
 992 000a 9846     		mov	r8, r3
 354:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****     if (buff_len == 0) return;
 993              		.loc 1 354 0
 994 000c 1546     		mov	r5, r2
 995 000e 62BB     		cbnz	r2, .L100
 996              	.LVL106:
 997              	.L89:
 355:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****     char temp_buffer[BYTES_PER_LINE + 3];
 356:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****     char char_buffer[BYTES_PER_LINE + 1];
 357:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****     int bytes_current_line;
 358:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c **** 
 359:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****     do {
 360:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****         if (buff_len > BYTES_PER_LINE)
 361:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****         {
 362:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****             bytes_current_line = BYTES_PER_LINE;
 363:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****         }
 364:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****         else
 365:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****         {
 366:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****             bytes_current_line = buff_len;
 367:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****         }
 368:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c **** 
 369:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****         memcpy(temp_buffer, buffer, (bytes_current_line + 3) / 4 * 4);
 370:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c **** 
 371:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****         for (int i = 0; i < buff_len; i++)
 372:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****         {
 373:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****             sprintf(&char_buffer[i], "%c ", buffer[i]);
 374:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****         }
 375:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c **** 
 376:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****         STM_LOG_LEVEL(log_level, tag, "%s", char_buffer);
 377:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****         buffer += bytes_current_line;
 378:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****         buff_len -= bytes_current_line;
 379:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****     } while (buff_len);
 380:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c **** }
 998              		.loc 1 380 0
 999 0010 0DB0     		add	sp, sp, #52
 1000              	.LCFI22:
 1001              		.cfi_remember_state
ARM GAS  /tmp/cct0xKoJ.s 			page 27


 1002              		.cfi_def_cfa_offset 28
 1003              		@ sp needed
 1004 0012 BDE8F083 		pop	{r4, r5, r6, r7, r8, r9, pc}
 1005              	.LVL107:
 1006              	.L102:
 1007              	.LCFI23:
 1008              		.cfi_restore_state
 362:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****         }
 1009              		.loc 1 362 0
 1010 0016 1027     		movs	r7, #16
 1011 0018 2AE0     		b	.L91
 1012              	.LVL108:
 1013              	.L108:
 369:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c **** 
 1014              		.loc 1 369 0
 1015 001a 0332     		adds	r2, r2, #3
 1016 001c 2AE0     		b	.L92
 1017              	.LVL109:
 1018              	.L94:
 1019              	.LBB38:
 373:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****         }
 1020              		.loc 1 373 0 discriminator 3
 1021 001e 325D     		ldrb	r2, [r6, r4]	@ zero_extendqisi2
 1022 0020 3249     		ldr	r1, .L109
 1023 0022 02AB     		add	r3, sp, #8
 1024 0024 1819     		adds	r0, r3, r4
 1025 0026 FFF7FEFF 		bl	sprintf
 1026              	.LVL110:
 371:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****         {
 1027              		.loc 1 371 0 discriminator 3
 1028 002a 0134     		adds	r4, r4, #1
 1029              	.LVL111:
 1030              	.L93:
 371:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****         {
 1031              		.loc 1 371 0 is_stmt 0 discriminator 1
 1032 002c AC42     		cmp	r4, r5
 1033 002e F6DB     		blt	.L94
 1034              	.LBE38:
 376:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****         buffer += bytes_current_line;
 1035              		.loc 1 376 0 is_stmt 1
 1036 0030 B8F1010F 		cmp	r8, #1
 1037 0034 26D0     		beq	.L104
 376:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****         buffer += bytes_current_line;
 1038              		.loc 1 376 0 is_stmt 0 discriminator 2
 1039 0036 B8F1020F 		cmp	r8, #2
 1040 003a 30D0     		beq	.L105
 376:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****         buffer += bytes_current_line;
 1041              		.loc 1 376 0 discriminator 4
 1042 003c B8F1040F 		cmp	r8, #4
 1043 0040 3AD0     		beq	.L106
 376:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****         buffer += bytes_current_line;
 1044              		.loc 1 376 0 discriminator 6
 1045 0042 B8F1050F 		cmp	r8, #5
 1046 0046 44D0     		beq	.L107
 376:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****         buffer += bytes_current_line;
 1047              		.loc 1 376 0 discriminator 8
 1048 0048 FFF7FEFF 		bl	stm_log_timestamp
ARM GAS  /tmp/cct0xKoJ.s 			page 28


 1049              	.LVL112:
 1050 004c 02AB     		add	r3, sp, #8
 1051 004e 0193     		str	r3, [sp, #4]
 1052 0050 CDF80090 		str	r9, [sp]
 1053 0054 0346     		mov	r3, r0
 1054 0056 264A     		ldr	r2, .L109+4
 1055 0058 4946     		mov	r1, r9
 1056 005a 0320     		movs	r0, #3
 1057 005c FFF7FEFF 		bl	stm_log_write
 1058              	.LVL113:
 1059              	.L96:
 377:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****         buff_len -= bytes_current_line;
 1060              		.loc 1 377 0 is_stmt 1
 1061 0060 3E44     		add	r6, r6, r7
 1062              	.LVL114:
 378:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****     } while (buff_len);
 1063              		.loc 1 378 0
 1064 0062 ED1B     		subs	r5, r5, r7
 1065              	.LVL115:
 1066 0064 ADB2     		uxth	r5, r5
 1067              	.LVL116:
 379:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c **** }
 1068              		.loc 1 379 0
 1069 0066 002D     		cmp	r5, #0
 1070 0068 D2D0     		beq	.L89
 1071              	.LVL117:
 1072              	.L100:
 360:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****         {
 1073              		.loc 1 360 0
 1074 006a 102D     		cmp	r5, #16
 1075 006c D3D8     		bhi	.L102
 366:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****         }
 1076              		.loc 1 366 0
 1077 006e 2F46     		mov	r7, r5
 1078              	.LVL118:
 1079              	.L91:
 369:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c **** 
 1080              		.loc 1 369 0
 1081 0070 FA1C     		adds	r2, r7, #3
 1082 0072 D2D4     		bmi	.L108
 1083              	.L92:
 1084 0074 22F00302 		bic	r2, r2, #3
 1085 0078 3146     		mov	r1, r6
 1086 007a 07A8     		add	r0, sp, #28
 1087 007c FFF7FEFF 		bl	memcpy
 1088              	.LVL119:
 1089              	.LBB39:
 371:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****         {
 1090              		.loc 1 371 0
 1091 0080 0024     		movs	r4, #0
 1092 0082 D3E7     		b	.L93
 1093              	.LVL120:
 1094              	.L104:
 1095              	.LBE39:
 376:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****         buffer += bytes_current_line;
 1096              		.loc 1 376 0 discriminator 1
 1097 0084 FFF7FEFF 		bl	stm_log_timestamp
ARM GAS  /tmp/cct0xKoJ.s 			page 29


 1098              	.LVL121:
 1099 0088 02AB     		add	r3, sp, #8
 1100 008a 0193     		str	r3, [sp, #4]
 1101 008c CDF80090 		str	r9, [sp]
 1102 0090 0346     		mov	r3, r0
 1103 0092 184A     		ldr	r2, .L109+8
 1104 0094 4946     		mov	r1, r9
 1105 0096 0120     		movs	r0, #1
 1106 0098 FFF7FEFF 		bl	stm_log_write
 1107              	.LVL122:
 1108 009c E0E7     		b	.L96
 1109              	.L105:
 376:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****         buffer += bytes_current_line;
 1110              		.loc 1 376 0 is_stmt 0 discriminator 3
 1111 009e FFF7FEFF 		bl	stm_log_timestamp
 1112              	.LVL123:
 1113 00a2 02AB     		add	r3, sp, #8
 1114 00a4 0193     		str	r3, [sp, #4]
 1115 00a6 CDF80090 		str	r9, [sp]
 1116 00aa 0346     		mov	r3, r0
 1117 00ac 124A     		ldr	r2, .L109+12
 1118 00ae 4946     		mov	r1, r9
 1119 00b0 0220     		movs	r0, #2
 1120 00b2 FFF7FEFF 		bl	stm_log_write
 1121              	.LVL124:
 1122 00b6 D3E7     		b	.L96
 1123              	.L106:
 376:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****         buffer += bytes_current_line;
 1124              		.loc 1 376 0 discriminator 5
 1125 00b8 FFF7FEFF 		bl	stm_log_timestamp
 1126              	.LVL125:
 1127 00bc 02AB     		add	r3, sp, #8
 1128 00be 0193     		str	r3, [sp, #4]
 1129 00c0 CDF80090 		str	r9, [sp]
 1130 00c4 0346     		mov	r3, r0
 1131 00c6 0D4A     		ldr	r2, .L109+16
 1132 00c8 4946     		mov	r1, r9
 1133 00ca 0420     		movs	r0, #4
 1134 00cc FFF7FEFF 		bl	stm_log_write
 1135              	.LVL126:
 1136 00d0 C6E7     		b	.L96
 1137              	.L107:
 376:/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/log.c ****         buffer += bytes_current_line;
 1138              		.loc 1 376 0 discriminator 7
 1139 00d2 FFF7FEFF 		bl	stm_log_timestamp
 1140              	.LVL127:
 1141 00d6 02AB     		add	r3, sp, #8
 1142 00d8 0193     		str	r3, [sp, #4]
 1143 00da CDF80090 		str	r9, [sp]
 1144 00de 0346     		mov	r3, r0
 1145 00e0 074A     		ldr	r2, .L109+20
 1146 00e2 4946     		mov	r1, r9
 1147 00e4 0520     		movs	r0, #5
 1148 00e6 FFF7FEFF 		bl	stm_log_write
 1149              	.LVL128:
 1150 00ea B9E7     		b	.L96
 1151              	.L110:
ARM GAS  /tmp/cct0xKoJ.s 			page 30


 1152              		.align	2
 1153              	.L109:
 1154 00ec 00000000 		.word	.LC7
 1155 00f0 78000000 		.word	.LC6
 1156 00f4 08000000 		.word	.LC2
 1157 00f8 24000000 		.word	.LC3
 1158 00fc 40000000 		.word	.LC4
 1159 0100 5C000000 		.word	.LC5
 1160              		.cfi_endproc
 1161              	.LFE150:
 1163              		.section	.bss.huart_log,"aw",%nobits
 1164              		.align	2
 1165              		.set	.LANCHOR1,. + 0
 1168              	huart_log:
 1169 0000 00000000 		.space	64
 1169      00000000 
 1169      00000000 
 1169      00000000 
 1169      00000000 
 1170              		.section	.bss.log_buf,"aw",%nobits
 1171              		.align	2
 1172              		.set	.LANCHOR7,. + 0
 1175              	log_buf:
 1176 0000 00000000 		.space	256
 1176      00000000 
 1176      00000000 
 1176      00000000 
 1176      00000000 
 1177              		.section	.bss.set_log_cache,"aw",%nobits
 1178              		.align	2
 1179              		.set	.LANCHOR0,. + 0
 1182              	set_log_cache:
 1183 0000 00000000 		.space	248
 1183      00000000 
 1183      00000000 
 1183      00000000 
 1183      00000000 
 1184              		.section	.bss.set_log_cache_entry_count,"aw",%nobits
 1185              		.align	2
 1186              		.set	.LANCHOR5,. + 0
 1189              	set_log_cache_entry_count:
 1190 0000 00000000 		.space	4
 1191              		.section	.bss.set_log_cache_max_generation,"aw",%nobits
 1192              		.align	2
 1193              		.set	.LANCHOR6,. + 0
 1196              	set_log_cache_max_generation:
 1197 0000 00000000 		.space	4
 1198              		.section	.bss.set_log_lock,"aw",%nobits
 1199              		.align	2
 1200              		.set	.LANCHOR2,. + 0
 1203              	set_log_lock:
 1204 0000 00000000 		.space	4
 1205              		.section	.bss.set_log_tags,"aw",%nobits
 1206              		.align	2
 1207              		.set	.LANCHOR4,. + 0
 1210              	set_log_tags:
 1211 0000 00000000 		.space	4
ARM GAS  /tmp/cct0xKoJ.s 			page 31


 1212              		.section	.data.set_log_default_level,"aw",%progbits
 1213              		.set	.LANCHOR3,. + 0
 1216              	set_log_default_level:
 1217 0000 05       		.byte	5
 1218              		.section	.rodata.stm_log_buffer_char_internal.str1.4,"aMS",%progbits,1
 1219              		.align	2
 1220              	.LC7:
 1221 0000 25632000 		.ascii	"%c \000"
 1222              		.section	.rodata.stm_log_buffer_hex_internal.str1.4,"aMS",%progbits,1
 1223              		.align	2
 1224              	.LC1:
 1225 0000 25303278 		.ascii	"%02x \000"
 1225      2000
 1226 0006 0000     		.space	2
 1227              	.LC2:
 1228 0008 1B5B303B 		.ascii	"\033[0;31mE (%d) %s: %s\033[0m\015\012\000"
 1228      33316D45 
 1228      20282564 
 1228      29202573 
 1228      3A202573 
 1229 0023 00       		.space	1
 1230              	.LC3:
 1231 0024 1B5B303B 		.ascii	"\033[0;33mW (%d) %s: %s\033[0m\015\012\000"
 1231      33336D57 
 1231      20282564 
 1231      29202573 
 1231      3A202573 
 1232 003f 00       		.space	1
 1233              	.LC4:
 1234 0040 1B5B303B 		.ascii	"\033[0;32mD (%d) %s: %s\033[0m\015\012\000"
 1234      33326D44 
 1234      20282564 
 1234      29202573 
 1234      3A202573 
 1235 005b 00       		.space	1
 1236              	.LC5:
 1237 005c 1B5B303B 		.ascii	"\033[0;34mV (%d) %s: %s\033[0m\015\012\000"
 1237      33346D56 
 1237      20282564 
 1237      29202573 
 1237      3A202573 
 1238 0077 00       		.space	1
 1239              	.LC6:
 1240 0078 1B5B303B 		.ascii	"\033[0;30mI (%d) %s: %s\033[0m\015\012\000"
 1240      33306D49 
 1240      20282564 
 1240      29202573 
 1240      3A202573 
 1241              		.section	.rodata.stm_log_level_set.str1.4,"aMS",%progbits,1
 1242              		.align	2
 1243              	.LC0:
 1244 0000 2A00     		.ascii	"*\000"
 1245              		.text
 1246              	.Letext0:
 1247              		.file 2 "/home/phong/Documents/thesis/stm32f4/stm-idf/components/newlib/include/machine/_default_t
 1248              		.file 3 "/home/phong/Documents/thesis/stm32f4/stm-idf/components/newlib/include/sys/_stdint.h"
 1249              		.file 4 "/usr/lib/gcc/arm-none-eabi/6.3.1/include/stddef.h"
ARM GAS  /tmp/cct0xKoJ.s 			page 32


 1250              		.file 5 "/home/phong/Documents/thesis/stm32f4/stm-idf/components/newlib/include/sys/lock.h"
 1251              		.file 6 "/home/phong/Documents/thesis/stm32f4/stm-idf/components/newlib/include/sys/_types.h"
 1252              		.file 7 "/home/phong/Documents/thesis/stm32f4/stm-idf/components/newlib/include/sys/reent.h"
 1253              		.file 8 "/usr/lib/gcc/arm-none-eabi/6.3.1/include/stdarg.h"
 1254              		.file 9 "<built-in>"
 1255              		.file 10 "/home/phong/Documents/thesis/stm32f4/stm-idf/components/newlib/include/stdio.h"
 1256              		.file 11 "/home/phong/Documents/thesis/stm32f4/stm-idf/components/freertos/include/freertos/FreeRT
 1257              		.file 12 "/home/phong/Documents/thesis/stm32f4/stm-idf/components/freertos/portable/gcc/arm_cm4f/p
 1258              		.file 13 "/home/phong/Documents/thesis/stm32f4/stm-idf/components/freertos/include/freertos/queue.
 1259              		.file 14 "/home/phong/Documents/thesis/stm32f4/stm-idf/components/freertos/include/freertos/semphr
 1260              		.file 15 "/home/phong/Documents/thesis/stm32f4/stm-idf/components/newlib/include/stdlib.h"
 1261              		.file 16 "/home/phong/Documents/thesis/stm32f4/stm-idf/components/log/include/stm_log.h"
 1262              		.file 17 "/home/phong/Documents/thesis/stm32f4/stm-idf/components/cmsis/include/core_cm4.h"
 1263              		.file 18 "/home/phong/Documents/thesis/stm32f4/stm-idf/components/cmsis/device/stm32/stm32f4xx/inc
 1264              		.file 19 "/home/phong/Documents/thesis/stm32f4/stm-idf/components/cmsis/device/stm32/stm32f4xx/inc
 1265              		.file 20 "/home/phong/Documents/thesis/stm32f4/stm-idf/components/stm32f4xx_hal_driver/include/stm
 1266              		.file 21 "/home/phong/Documents/thesis/stm32f4/stm-idf/components/stm32f4xx_hal_driver/include/stm
 1267              		.file 22 "/home/phong/Documents/thesis/stm32f4/stm-idf/components/stm32f4xx_hal_driver/include/stm
 1268              		.file 23 "/home/phong/Documents/thesis/stm32f4/stm-idf/components/stm32f4xx_hal_driver/include/stm
 1269              		.file 24 "/home/phong/Documents/thesis/stm32f4/stm-idf/components/stm32f4xx_hal_driver/include/stm
 1270              		.file 25 "/home/phong/Documents/thesis/stm32f4/stm-idf/components/newlib/include/string.h"
ARM GAS  /tmp/cct0xKoJ.s 			page 33


DEFINED SYMBOLS
                            *ABS*:0000000000000000 log.c
     /tmp/cct0xKoJ.s:18     .text.heap_bubble_down:0000000000000000 $t
     /tmp/cct0xKoJ.s:24     .text.heap_bubble_down:0000000000000000 heap_bubble_down
     /tmp/cct0xKoJ.s:116    .text.heap_bubble_down:0000000000000060 $d
     /tmp/cct0xKoJ.s:121    .text.stm_log_init:0000000000000000 $t
     /tmp/cct0xKoJ.s:128    .text.stm_log_init:0000000000000000 stm_log_init
     /tmp/cct0xKoJ.s:216    .text.stm_log_init:0000000000000070 $d
     /tmp/cct0xKoJ.s:224    .text.stm_log_level_set:0000000000000000 $t
     /tmp/cct0xKoJ.s:231    .text.stm_log_level_set:0000000000000000 stm_log_level_set
     /tmp/cct0xKoJ.s:438    .text.stm_log_level_set:00000000000000e4 $d
     /tmp/cct0xKoJ.s:449    .text.stm_log_write:0000000000000000 $t
     /tmp/cct0xKoJ.s:456    .text.stm_log_write:0000000000000000 stm_log_write
     /tmp/cct0xKoJ.s:720    .text.stm_log_write:0000000000000138 $d
     /tmp/cct0xKoJ.s:734    .text.stm_log_timestamp:0000000000000000 $t
     /tmp/cct0xKoJ.s:741    .text.stm_log_timestamp:0000000000000000 stm_log_timestamp
     /tmp/cct0xKoJ.s:761    .text.stm_log_buffer_hex_internal:0000000000000000 $t
     /tmp/cct0xKoJ.s:768    .text.stm_log_buffer_hex_internal:0000000000000000 stm_log_buffer_hex_internal
     /tmp/cct0xKoJ.s:953    .text.stm_log_buffer_hex_internal:00000000000000f0 $d
     /tmp/cct0xKoJ.s:963    .text.stm_log_buffer_char_internal:0000000000000000 $t
     /tmp/cct0xKoJ.s:970    .text.stm_log_buffer_char_internal:0000000000000000 stm_log_buffer_char_internal
     /tmp/cct0xKoJ.s:1154   .text.stm_log_buffer_char_internal:00000000000000ec $d
     /tmp/cct0xKoJ.s:1164   .bss.huart_log:0000000000000000 $d
     /tmp/cct0xKoJ.s:1168   .bss.huart_log:0000000000000000 huart_log
     /tmp/cct0xKoJ.s:1171   .bss.log_buf:0000000000000000 $d
     /tmp/cct0xKoJ.s:1175   .bss.log_buf:0000000000000000 log_buf
     /tmp/cct0xKoJ.s:1178   .bss.set_log_cache:0000000000000000 $d
     /tmp/cct0xKoJ.s:1182   .bss.set_log_cache:0000000000000000 set_log_cache
     /tmp/cct0xKoJ.s:1185   .bss.set_log_cache_entry_count:0000000000000000 $d
     /tmp/cct0xKoJ.s:1189   .bss.set_log_cache_entry_count:0000000000000000 set_log_cache_entry_count
     /tmp/cct0xKoJ.s:1192   .bss.set_log_cache_max_generation:0000000000000000 $d
     /tmp/cct0xKoJ.s:1196   .bss.set_log_cache_max_generation:0000000000000000 set_log_cache_max_generation
     /tmp/cct0xKoJ.s:1199   .bss.set_log_lock:0000000000000000 $d
     /tmp/cct0xKoJ.s:1203   .bss.set_log_lock:0000000000000000 set_log_lock
     /tmp/cct0xKoJ.s:1206   .bss.set_log_tags:0000000000000000 $d
     /tmp/cct0xKoJ.s:1210   .bss.set_log_tags:0000000000000000 set_log_tags
     /tmp/cct0xKoJ.s:1216   .data.set_log_default_level:0000000000000000 set_log_default_level
     /tmp/cct0xKoJ.s:1219   .rodata.stm_log_buffer_char_internal.str1.4:0000000000000000 $d
     /tmp/cct0xKoJ.s:1223   .rodata.stm_log_buffer_hex_internal.str1.4:0000000000000000 $d
     /tmp/cct0xKoJ.s:1242   .rodata.stm_log_level_set.str1.4:0000000000000000 $d
                     .debug_frame:0000000000000010 $d

UNDEFINED SYMBOLS
HAL_UART_Init
HAL_GPIO_Init
xQueueSemaphoreTake
strcmp
xQueueCreateMutex
free
xQueueGenericSend
strlen
malloc
strcpy
vsnprintf
HAL_UART_Transmit
HAL_GetTick
sprintf
ARM GAS  /tmp/cct0xKoJ.s 			page 34


memcpy
